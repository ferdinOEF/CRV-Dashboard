<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Goa Climate Risk Dashboard</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    /* Layout */
    #main {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    #sidebar {
      width: 300px;
      background: #f8f9fa;
      border-right: 1px solid #ddd;
      padding: 15px;
      overflow-y: auto;
    }

    #map {
      flex: 1;
      height: 100%;
    }

    #bottom-panel {
      height: 150px;
      background: #ffffff;
      border-top: 1px solid #ccc;
      padding: 10px;
      overflow-y: auto;
    }

    /* Sidebar styling */
    h2 {
      margin-top: 0;
    }
    .risk-item {
      margin-bottom: 12px;
      cursor: pointer;
      padding: 5px;
      border-radius: 5px;
    }
    .risk-item:hover {
      background: #e3f2fd;
    }
  </style>
</head>
<body>
  <div id="main">
    <!-- Sidebar -->
    <div id="sidebar">
      <h2>Goa Climate Risks</h2>
      <div class="risk-item" onclick="zoomTo('erosion')"><b>Coastal Erosion:</b> Candolim, Colva</div>
      <div class="risk-item" onclick="zoomTo('cyclones')"><b>Cyclones:</b> Vulnerable coastline</div>
      <div class="risk-item" onclick="zoomTo('sea')"><b>Sea-Level Rise:</b> 14% land risk by 2050</div>
      <div class="risk-item" onclick="zoomTo('heat')"><b>Heat Stress:</b> Quepem, Sanguem</div>
      <div class="risk-item" onclick="zoomTo('flood')"><b>Flooding:</b> Panaji, Margao</div>
    </div>

    <!-- Map -->
    <div id="map"></div>
  </div>

  <!-- Bottom Panel -->
  <div id="bottom-panel">
    <h3>Risk Details</h3>
    <div id="details">Click a risk on the left to see more information.</div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Initialize Map
    var map = L.map('map').setView([15.3, 74.1], 9);

    // Add Base Layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap'
    }).addTo(map);

    // Define locations
    var locations = {
      erosion: {coords: [15.5, 73.8], text: "Coastal erosion hotspots: Candolim, Colva"},
      cyclones: {coords: [15.2, 73.9], text: "Cyclone vulnerability: Recent cyclones like Tauktae increased risk"},
      sea: {coords: [15.4, 73.95], text: "Sea-Level Rise: 14% land area threatened by 2050"},
      heat: {coords: [15.17, 74.1], text: "Heat stress hotspots: Quepem, Sanguem with >35°C days"},
      flood: {coords: [15.5, 73.83], text: "Urban Flooding: Panaji & Margao see rising flood incidents"}
    };

    // Zoom function
    function zoomTo(key) {
      var loc = locations[key];
      map.setView(loc.coords, 11);
      L.marker(loc.coords).addTo(map).bindPopup(loc.text).openPopup();
      document.getElementById("details").innerHTML = loc.text;
    }
  </script>
</body>
</html>
