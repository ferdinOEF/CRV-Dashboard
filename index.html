// Load risk data from external JSON
fetch("riskData.json")
  .then(response => response.json())
  .then(riskData => {
    // Example: Add Goa markers for districts
    var northGoa = L.marker([15.6, 73.8]).addTo(map)
      .bindPopup("North Goa – Click for Risks")
      .on("click", () => showRiskDetails("North Goa", riskData));

    var southGoa = L.marker([15.2, 74.0]).addTo(map)
      .bindPopup("South Goa – Click for Risks")
      .on("click", () => showRiskDetails("South Goa", riskData));

    function showRiskDetails(region, data) {
      let risks = data[region];
      let details = `<h3>${region}</h3>`;
      for (let [key, value] of Object.entries(risks)) {
        details += `<p><strong>${key}:</strong> ${value}</p>`;
      }
      document.getElementById("info-panel").innerHTML = details;
    }
  })
  .catch(err => console.error("Error loading riskData.json:", err));
